
urls=(
  "https://sikhsoul.com/golden_khajana_files/mp3/Keertan/Bhai Mohinder Singh SDO/Aad Steh Jugad Steh.mp3",
  "https://www.ikirtan.com//Bhai_Mohinder_Singh_Jee_SDO/Bhaaee Mohinder Singh (Aanad rang binod hamaarai).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/sdo/soundcloud/1980's Simran by Mohinder Singh ji SDO-184557741.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/sdo/yt_mga/001 MGA SDO 1001 SDOBradford1 Pardesh jhak Soude Ko Ayaaia.m4a",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/sdo/yt_heeraRattan/001 Bhai Mohinder Singh Ji (SDO) In loving memory â™¥ (heeraRattan).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/sdo/yt_karKeertan/001 Bh. Mohinder Singh SDO (karKeertan).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/sdo/yt_lalli_pl/001) Bhai Mohinder Singh SDO Willams Lake 1980s.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/sdo/yt_kirtanSewa/001 Rehras Sahib with Shabads - Bhai Mohinder Singh SDO (kirtanSewa).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/sdo/aisa_keertan/Aae Sant Paraahonai.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/rand/Har ke naam 60s.m4a",

  "https://sikhsoul.com/golden_khajana_files/mp3/Keertan/Bhai Tejinderpal Singh Dulla/Bhai Tejinderpal Singh Dulla  - Andhar Sachaa Naehu Laaeiaa Preetham Aapanai.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/dulla_ji/sc/akjorg/AKV bhee tuhai saalaahanaa aakhan lehai na chaao (Dulla Ji).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/dulla_ji/sc/nirbankeertan/Aat phar Har dheaeeai raam (Dulla Ji).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/dulla_ji/sc/satnamsingh/Alternate Version antar kee bidh tum hee jaanee (Puratan Kirtan) (Dulla Ji).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/dulla_ji/sc/scottishsikhs/Aadh Gureae Numeh (Dulla Ji).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/dulla_ji/yt/AAD WAHEGURU Bhai Gurpreet Singh Shimla Wale Shabad Gurbani-TjVv9x4tWPM.mp3",
  "https://akj.media/Media/Keertan/Windsor/2022/010_Windsor_July2022_SatPM_RSK_BhaiTejinderpalSinghJeeDoolaVeerjee.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/dulla_ji/sangat_files/bjot/Bhai Tejinderpal Singh (Dulla Ji) - Harmandir Sahib.mp3",

  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/giani_amolak_singh/yt_kirtanSewa/001 Toon Karataa Sachiaar Maiddaa Saaniee - Giani Amolak Singh Ji (kirtanSewa).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/giani_amolak_singh/aisa_keertan/Aaiyaa Dhooron Chal Ke.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/giani_amolak_singh/01-03DEC1988-Simran-610284210.mp3",

  "https://sikhsoul.com/golden_khajana_files/mp3/Keertan/Bhai Joginder Singh Talwara/Aao sakhee har meyl kareyhaa.mp3",
  "https://www.ikirtan.com/Bhai_Joginder_Singh_Jee_Talwara/Bhaaee Joginder Singh (Aao sakhee har meyl kareyhaa).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/talwara_ji/aisa_keertan/Aad Gure Namai Jugaad Gure Namai.mp3",

  "https://sikhsoul.com/golden_khajana_files/mp3/Keertan/Bhai Mehar Singh/Bhai Mehar Singh - Aae Mil Gurasikh Aae Mil.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/bhai_mehar_singh/aisa_keertan/Aao hamaarey raam piaarey jeeo.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/bhai_mehar_singh/1960s (gun Keerat Nidh Moree).mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/dr_pritam_singh_anjaan/Jap ji Sahib - Dr Pritam Singh Anjaan-766900534.mp3",

  "https://akj.media/Media/Keertan/Delhi/2009/082_Delhi_Sep2009_SunE_RSK_BhaiJeevanSinghJee.mp3",
  "https://sikhsoul.com/golden_khajana_files/mp3/Keertan/Bhai Jeevan Singh/Bhai Jeevan Singh - Aao Saajan Santh Meeth Piaarae.mp3",
  "https://www.ikirtan.com//_Bhai_Jeevan_Singh_Jee/1970s/Bhai_Jeevan_Singh_Jee_1970s_Vol_1.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/bh_jeevan_s/aisa_keertan/Aai Peiaa Theree Sharnaiee.mp3",

  "https://akj.media/Media/Keertan/FatehgarhSahib/2021/005_FatehgarhSahib_25Dec2021_SatM_DSK_BhaiGurinderSinghJeeCA.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/other_tracks/bjot/Bh Gurinder S Seattle July 2017 Annual Akhand Keertan Samagam - Saturday Rainsabayee Keertan.m4a",

  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/hps/sc/AKV sabh kichh tum te maagnaa vaddbhaagee paae - Bh Hps.mp3",
  "https://akj.media/Media/Keertan/London.ON/2022/008_London_April2022_SatE_RSK_BhaiHarpreetSinghJeeToronto.mp3",
  "https://www.ikirtan.com/Bhai_Harpreet_Singh_Jee/Bay_Area_1999/Bay_Area_California_Rainsbaee_1999_Bhai_Harpreet_Singh.mp3",
  "https://daasstorage13.blob.core.windows.net/ds1/audios/keertan/bh_jasbir_s/aisa_keertan/Je Tegan.mp3",
)

function rawurlencode() {
  local url="$1"
  local url="${url%?}" #remove last char
  echo "$url" | sed 's/ /%20/g; s/"/%22/g; s/(/%28/g; s/)/%29/g; s/{/%7B/g; s/}/%7D/g; s/,/%2C/g'
}

count=0
for url in "${urls[@]}"; do

  url=$(rawurlencode "$url")
  # echo "$url"
  # curl_cmd=$(curl -Is "$url")
  # curl_cmd=$(curl -Is "$url" | grep -i "Content-Type" | tr '[:upper:]' '[:lower:]')
  curl_cmd=$(curl -Is "$url" | grep -i "Content-Type" | head -n 1 | tr '[:upper:]' '[:lower:]' | tr -d '\r' | xargs)
  if [[ "$curl_cmd" != "content-type: audio/mpeg" ]]; then
    echo "$curl_cmd"
    echo "Failed to fetch: $url"
    exit
  fi
done
